# 回溯算法

解决问题分类：

- 组合（不强调顺序）
- 分割
- 子集
- 排列（强调顺序）
- 棋盘
- 其它

## 什么是回溯法

回溯法，也称回溯搜索法，是一种搜索的方式。

回溯是递归的副产品，有递归就有回溯。

回溯的本质是**穷举**，可以通过一些**剪枝**的操作提高效率。

回溯法的问题可以抽象为**树形结构**。

回溯法解决的是在集合中递归查找子集，**集合的大小构成了树的宽度，递归的深度，构成的树的深度**。

递归就要有终止条件，所以是一棵高度有限的树（N叉树）。

## 回溯三部曲

1. 递归函数返回值及参数

    ```c++
    void backtracking(参数)
    ```

2. 回溯函数终止条件

    ```c++
    if (终止条件) {
        存放结果;
        return;
    }
    ```

3. 回溯搜索遍历过程

    ```c++
    for (选择：本层集合中元素（树中节点孩子的数量就是集合的大小）) {
        处理节点;
        backtracking(路径，选择列表); // 递归
        回溯，撤销处理结果
    }
    ```

    **for循环可以理解是横向遍历，backtracking（递归）就是纵向遍历**，叶子节点一般就是找的其中一个结果。

回溯算法模板框架如下：

```c++
void backtracking(参数) {
    if (终止条件) {
        存放结果;
        return;
    }

    for (选择：本层集合中元素（树中节点孩子的数量就是集合的大小）) {
        处理节点;
        backtracking(路径，选择列表); // 递归
        回溯，撤销处理结果
    }
}
```

## 剪枝优化

将没有意义的遍历剪枝优化
